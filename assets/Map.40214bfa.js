import{d as M,r as O,ai as p,au as P,aH as o,o as c,e as r,w as i,a0 as a,a as t,u as m,b as W,aF as D,S as $,M as K}from"./index.6395c7ec.js";var v="/assets/broadcast-pin.84fe27fa.svg";const X=M({props:{center:{type:Array,required:!1,default:[-98.95259,20.39172]},zoom:{type:Number,required:!1,default:9},rotation:{type:Number,required:!1,default:0},projection:{type:String,required:!1,default:"EPSG:4326"},controls:{type:Boolean,required:!1,default:!0},zoomextent:{type:Array,required:!1,default:[-97.9,19.3,-99.9,21.3]},selectedIcon:{required:!1,default:v},layers:{type:Array,required:!0,default:[{geojsonB64Encoded:"",with_icon:!1,icon_src:""}]}},emits:["triggerEvent"],setup(n,{emit:w}){const f=O(window.innerHeight),z=p("ol-format"),h=new z.GeoJSON,b=p("ol-selectconditions").click;P(()=>{window.addEventListener("resize",F)});const k=e=>{if(typeof e.target.getFeatures().getArray()[0]!="undefined"){let s=e.target.getFeatures().getArray()[0].values_;console.log(s),w("triggerEvent",s)}},x=e=>{if(typeof e.values_.with_action!="undefined")return e.values_.with_action!=null},S=(e,s)=>{if(typeof e.values_.set_name!="undefined"){let l=e.values_.set_name;s.getText().setText(l.toString())}if(typeof e.values_.bg_color!="undefined"){const l=e.values_.bg_color;s.getFill().setColor(l.toString())}if(typeof e.values_.outline_color!="undefined"){const l=e.values_.outline_color;s.getStroke().setColor(l.toString())}if(typeof e.values_.radius!="undefined"){const l=e.values_.radius;s.getImage().setRadius(l.toString())}if(typeof e.values_.circle_bg_color!="undefined"){const l=e.values_.circle_bg_color;s.getImage().getFill().setColor(l.toString())}},F=()=>{f.value=window.innerHeight};return(e,s)=>{const l=o("ol-fullscreen-control"),C=o("ol-mouseposition-control"),j=o("ol-overviewmap-control"),q=o("ol-scaleline-control"),A=o("ol-zoomslider-control"),E=o("ol-zoom-control"),I=o("ol-zoomtoextent-control"),L=o("ol-view"),B=o("ol-source-osm"),T=o("ol-tile-layer"),g=o("ol-style-icon"),_=o("ol-style-stroke"),y=o("ol-style"),N=o("ol-interaction-select"),H=o("ol-source-vector"),u=o("ol-style-fill"),R=o("ol-style-circle"),V=o("ol-style-text"),G=o("ol-vector-layer"),J=o("ol-map");return c(),r(J,{loadTilesWhileAnimating:!0,loadTilesWhileInteracting:!0,style:K(`height: ${f.value-220}px; width: 100%;`)},{default:i(()=>[n.controls?(c(),r(l,{key:0,tipLabel:"Pantalla completa"})):a("",!0),n.controls?(c(),r(C,{key:1})):a("",!0),n.controls?(c(),r(j,{key:2,tipLabel:"Vista de selecci\xF3n"})):a("",!0),n.controls?(c(),r(q,{key:3})):a("",!0),n.controls?(c(),r(A,{key:4})):a("",!0),n.controls?(c(),r(E,{key:5,zoomInTipLabel:"Aumentar zoom",zoomOutTipLabel:"Disminuir zoom"})):a("",!0),n.controls?(c(),r(I,{key:6,extent:n.zoomextent,tipLabel:"Regresar zoom"},null,8,["extent"])):a("",!0),t(L,{ref:"view",center:n.center,rotation:n.rotation,zoom:n.zoom,projection:n.projection},null,8,["center","rotation","zoom","projection"]),t(T,null,{default:i(()=>[t(B)]),_:1}),t(N,{onSelect:k,condition:m(b),filter:x},{default:i(()=>[t(y,null,{default:i(()=>[t(g,{src:m(v),scale:2},null,8,["src"]),t(_,{width:2})]),_:1})]),_:1},8,["condition"]),(c(!0),W($,null,D(n.layers,d=>(c(),r(G,null,{default:i(()=>[t(H,{url:"data:application/json;base64,"+d.geojsonB64Encoded,format:m(h)},null,8,["url","format"]),t(y,{overrideStyleFunction:S},{default:i(()=>[t(R,{radius:10},{default:i(()=>[t(u,{color:"#9F2241"}),t(_,{color:"#9F2241"})]),_:1}),t(_,{color:"rgba(186,151,47,1)",width:6}),t(u,{color:"rgb(250,250,250, 0.4)"}),t(V,{width:10},{default:i(()=>[t(u,{color:"#fff",width:10})]),_:1}),d.with_icon?(c(),r(g,{key:0,src:d.icon_src,scale:1},null,8,["src"])):a("",!0)]),_:2},1024)]),_:2},1024))),256))]),_:1},8,["style"])}}});export{X as default};
