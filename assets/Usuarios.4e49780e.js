import{bE as i,d as A,bv as B,bz as O,bC as R,a7 as g,r as n,au as F,o as l,b as c,f as e,e as f,u as k,a0 as S,S as q,aF as C,a as Q,bD as E,N as w}from"./index.6395c7ec.js";import{_ as j}from"./Pagination.ce0f40fc.js";const z=s=>i.get("/api/usuarios",{params:s}),ge=s=>i.get(`/api/usuarios/${s}`),I=s=>i.get("/api/usuarios/search",{params:s}),fe=s=>i.post("/api/usuarios",s),ke=(s,r)=>i.put(`/api/usuarios/${r}`,s),Se=s=>i.delete(`/api/usuarios/${s}`),G={class:"row"},H={class:"col-md-12 mt-3"},J={class:"card"},K={class:"card-body bg-light"},W={class:"container-fluid"},X={class:"row"},Y=e("div",{class:"col-8 col-md-11 ps-0"},[e("h1",{class:"h6 ms-0"},"Usuarios")],-1),Z={class:"col-2 col-md-1 text-nowrap text-end"},ee=e("i",{class:"bi-plus-lg"},null,-1),se=[ee],te=e("i",{class:"bi-search"},null,-1),ae=[te],oe={class:"table-responsive"},ne={class:"table"},le=e("th",{class:"text-end"},[e("i",{class:"bi-pencil-square"})],-1),ue=e("th",{class:"text-end"},[e("i",{class:"bi-trash"})],-1),ie={class:"text-end"},ce=["onClick"],re=e("i",{class:"bi-pencil-square"},null,-1),de=[re],_e={class:"text-end"},ve=["onClick"],he=e("i",{class:"bi-trash"},null,-1),pe=[he],be=A({setup(s){const r=B(),x=O(),a=R(),M=g(()=>E(()=>import("./Search.3f229d16.js"),["assets/Search.3f229d16.js","assets/index.6395c7ec.js","assets/index.9f8a97de.css"])),T=g(()=>E(()=>import("./FormUsers.a917a41b.js"),["assets/FormUsers.a917a41b.js","assets/FormUsers.0e3cce3c.css","assets/vee-validate-i18n.esm.f5e07155.js","assets/index.6395c7ec.js","assets/index.9f8a97de.css","assets/Modal.8abd9eab.js","assets/Modal.b76a14bf.css","assets/Pagination.ce0f40fc.js"])),d=n([]),u=n(!1),_=n("Usuarios"),v=n(""),m=n(Number),h=n(!1),y=n(""),N=n(["Usuario"]);F(async()=>{typeof a.query.query!="undefined"&&a.query.query!=null?(y.value=a.query.query.toString(),h.value=!0,P(a.query)):typeof a.query.page!="undefined"&&a.query.page!=null?p(a.query):(x.push({path:a.path,query:{page:1}}),p({page:1}))});const p=async(o={})=>{r.setLoading(),d.value=(await z(o)).data},P=async(o={})=>{r.setLoading(),d.value=(await I(o)).data},U=()=>{h.value=!h.value},$=()=>{v.value="store",_.value="Crear usuario",u.value=!0},L=o=>{v.value="update",_.value="Editar usuario",m.value=o,u.value=!0},D=o=>{v.value="delete",_.value="Eliminar usuario",m.value=o,u.value=!0};return(o,b)=>(l(),c("div",G,[e("div",H,[e("div",J,[e("div",K,[e("div",W,[e("div",X,[Y,e("div",Z,[e("button",{onClick:b[0]||(b[0]=t=>$()),class:"btn btn-success me-2"},se),e("button",{onClick:U,class:"btn btn-info"},ae)]),h.value?(l(),f(k(M),{key:0,lastQueryToSearch:y.value},null,8,["lastQueryToSearch"])):S("",!0)])])])]),e("div",oe,[e("table",ne,[e("thead",null,[e("tr",null,[(l(!0),c(q,null,C(N.value,t=>(l(),c("th",{key:t},w(t),1))),128)),le,ue])]),e("tbody",null,[(l(!0),c(q,null,C(d.value.data,t=>(l(),c("tr",{key:t},[e("td",null,w(t.email),1),e("td",ie,[e("button",{onClick:V=>L(t.id),class:"btn btn-info"},de,8,ce)]),e("td",_e,[e("button",{onClick:V=>D(t.id),class:"btn btn-danger"},pe,8,ve)])]))),128))])])]),Q(j,{links:d.value.links,onNavToPage:p},null,8,["links"]),u.value?(l(),f(k(T),{key:0,showModal:u.value,"onUpdate:showModal":b[1]||(b[1]=t=>u.value=t),onNavToPage:p,nameModal:_.value,typeSubmit:v.value,idElement:m.value},null,8,["showModal","nameModal","typeSubmit","idElement"])):S("",!0)])]))}});var qe=Object.freeze(Object.defineProperty({__proto__:null,default:be},Symbol.toStringTag,{value:"Module"}));export{qe as U,fe as a,Se as d,ge as s,ke as u};
