import{by as N,d as P,bv as z,r as g,au as A,o as n,b as r,f as a,a as l,u as t,w as y,S as u,aC as G,aA as Q,b3 as $,bm as H,m as w,aF as m,N as p,K as f,bx as K}from"./index.6395c7ec.js";import{_ as O}from"./gracias.13109ad3.js";import{d as E,r as R,e as j,c as J,l as W,a as X,F as _,E as v}from"./vee-validate-i18n.esm.f5e07155.js";import{i as Y}from"./temas.8a9c7ffa.js";import{i as Z,k as ee}from"./multiselect.4188268a.js";import{s as ae}from"./propuestas.546bcd69.js";import oe from"./Modal.8abd9eab.js";const i=h=>(G("data-v-245ea592"),h=h(),Q(),h),le={class:"col-md-8 offset-md-2 p-5"},se=i(()=>a("h4",null," Construiremos caminos que permitan a los Hidalguenses transportarse con dignidad. ",-1)),te=i(()=>a("hr",null,null,-1)),ne={class:"mb-3"},re=i(()=>a("label",{for:"propuesta",class:"form-label"},"*Cu\xE9ntanos \xBFQu\xE9 camino necesita reparaci\xF3n?",-1)),ie={class:"invalid-feedback"},de={class:"mb-3"},ue=i(()=>a("label",{for:"direccion",class:"form-label"},"Direcci\xF3n",-1)),ce={class:"invalid-feedback"},me={class:"mb-3"},pe=i(()=>a("label",{for:"municipio",class:"form-label"},"*Municipio",-1)),_e={class:"invalid-feedback"},ve={class:"mb-3"},fe=i(()=>a("label",{for:"documentos",class:"form-label"},"Comp\xE1rtenos una imagen o video del camino a reparar",-1)),be={class:"invalid-feedback"},ge=i(()=>a("hr",{class:"mt-4 mb-4"},null,-1)),he={class:"mb-3"},ye=i(()=>a("label",{for:"nombres",class:"form-label"},"*Nombre(s)",-1)),Ve={class:"invalid-feedback"},xe={class:"mb-3"},ke=i(()=>a("label",{for:"primer_apellido",class:"form-label"},"*Primer apellido",-1)),Ce={class:"invalid-feedback"},Me={class:"mb-3"},qe=i(()=>a("label",{for:"segundo_apellido",class:"form-label"},"Segundo apellido",-1)),we={class:"invalid-feedback"},Ee={class:"mb-3"},Fe=i(()=>a("label",{for:"fecha_nacimiento",class:"form-label"},"*Queremos conocer tu edad",-1)),Se={class:"invalid-feedback"},Ue={class:"mb-3"},De=i(()=>a("label",{for:"telefono",class:"form-label"},"*Tel\xE9fono",-1)),Be={class:"invalid-feedback"},Le={class:"mb-3"},Te=i(()=>a("label",{for:"correo",class:"form-label"},"Correo",-1)),Ie={class:"invalid-feedback"},Ne=i(()=>a("div",{class:"mb-3 mt-3 d-grid gap-2 col-12 mx-auto"},[a("input",{type:"submit",class:"btn btn-primary btn-lg",value:"Guardar"})],-1)),Pe=i(()=>a("img",{src:O,class:"img-fluid"},null,-1)),ze=P({setup(h){E("required",R),E("email",j),J({generateMessage:W("es",{messages:{required:"El campo es requerido",email:"El campo debe ser un correo valido"}})});const V=z(),F=K(),s=g({}),x=g([]),M=g([]),S=g([]),c=g(""),d=g({}),k=g(null);A(async()=>{await U(),await D(),s.value.nombre="Caminos dignos",s.value.tema_id=10});const U=async()=>{V.setLoading(),M.value=(await Z({})).data},D=async()=>{V.setLoading(),S.value=(await Y({})).data},B=()=>{d.value.length!=0&&(c.value="is-invalid")},L=b=>{var o=b.target.files||b.dataTransfer.files;!o.length||(x.value=o)},T=async()=>{V.setLoading();var b=new FormData;for(var o in s.value)b.append(o,s.value[o]);for(let e=0;e<x.value.length;e++)b.append("documentos[]",x.value[e]);await ae(b).then(()=>{F.success("Se ha creado la propuesta exitosamente."),k.value.showModal()}).catch(e=>{e.response.status==422&&(d.value=e.response.data.errors,B())})},I=()=>{T()},q=()=>{k.value.hideModal()};return(b,o)=>(n(),r(u,null,[a("div",le,[se,te,l(t(X),{method:"POST",onSubmit:o[10]||(o[10]=e=>I())},{default:y(()=>[a("div",ne,[re,l(t(_),{id:"propuesta",name:"propuesta",type:"text",rules:"required"},{default:y(({field:e})=>[$(a("textarea",w(e,{"onUpdate:modelValue":o[0]||(o[0]=C=>s.value.propuesta=C),class:["form-control "+c.value,"form-control"],rows:"5"}),null,16),[[H,s.value.propuesta]])]),_:1}),l(t(v),{class:"alert-error",name:"propuesta"}),a("div",ie,[(n(!0),r(u,null,m(d.value.propuesta,e=>(n(),r("span",{key:e},p(e),1))),128))])]),a("div",de,[ue,l(t(_),{id:"direccion",name:"direccion",modelValue:s.value.direccion,"onUpdate:modelValue":o[1]||(o[1]=e=>s.value.direccion=e),type:"text",class:f("form-control "+c.value)},null,8,["modelValue","class"]),l(t(v),{class:"alert-error",name:"direccion"}),a("div",ce,[(n(!0),r(u,null,m(d.value.direccion,e=>(n(),r("span",{key:e},p(e),1))),128))])]),a("div",me,[pe,l(t(_),{name:"municipio",type:"select",value:!0,rules:"required"},{default:y(({field:e})=>[l(t(ee),w(e,{modelValue:s.value.municipio_id,"onUpdate:modelValue":o[2]||(o[2]=C=>s.value.municipio_id=C),options:M.value,searchable:!0,valueProp:"id",label:"nombre",trackBy:"nombre"}),null,16,["modelValue","options"])]),_:1}),l(t(v),{name:"municipio"}),a("div",_e,[(n(!0),r(u,null,m(d.value.municipio,e=>(n(),r("span",{key:e},p(e),1))),128))])]),a("div",ve,[fe,l(t(_),{id:"documentos",name:"documentos",onChange:o[3]||(o[3]=e=>L(e)),type:"file",multiple:"",class:f("form-control "+c.value)},null,8,["class"]),l(t(v),{class:"alert-error",name:"documentos"}),a("div",be,[(n(!0),r(u,null,m(d.value.documentos,e=>(n(),r("span",{key:e},p(e),1))),128))])]),ge,a("div",he,[ye,l(t(_),{id:"nombres",name:"nombres",modelValue:s.value.nombres,"onUpdate:modelValue":o[4]||(o[4]=e=>s.value.nombres=e),type:"text",class:f("form-control "+c.value),rules:"required"},null,8,["modelValue","class"]),l(t(v),{class:"alert-error",name:"nombres"}),a("div",Ve,[(n(!0),r(u,null,m(d.value.nombres,e=>(n(),r("span",{key:e},p(e),1))),128))])]),a("div",xe,[ke,l(t(_),{id:"primer_apellido",name:"primer_apellido",modelValue:s.value.primer_apellido,"onUpdate:modelValue":o[5]||(o[5]=e=>s.value.primer_apellido=e),type:"text",class:f("form-control "+c.value),rules:"required"},null,8,["modelValue","class"]),l(t(v),{class:"alert-error",name:"primer_apellido"}),a("div",Ce,[(n(!0),r(u,null,m(d.value.primer_apellido,e=>(n(),r("span",{key:e},p(e),1))),128))])]),a("div",Me,[qe,l(t(_),{id:"segundo_apellido",name:"segundo_apellido",modelValue:s.value.segundo_apellido,"onUpdate:modelValue":o[6]||(o[6]=e=>s.value.segundo_apellido=e),type:"text",class:f("form-control "+c.value)},null,8,["modelValue","class"]),l(t(v),{class:"alert-error",name:"segundo_apellido"}),a("div",we,[(n(!0),r(u,null,m(d.value.segundo_apellido,e=>(n(),r("span",{key:e},p(e),1))),128))])]),a("div",Ee,[Fe,l(t(_),{id:"fecha_nacimiento",name:"fecha_nacimiento",modelValue:s.value.fecha_nacimiento,"onUpdate:modelValue":o[7]||(o[7]=e=>s.value.fecha_nacimiento=e),type:"date",class:f("form-control "+c.value),rules:"required"},null,8,["modelValue","class"]),l(t(v),{class:"alert-error",name:"fecha_nacimiento"}),a("div",Se,[(n(!0),r(u,null,m(d.value.fecha_nacimiento,e=>(n(),r("span",{key:e},p(e),1))),128))])]),a("div",Ue,[De,l(t(_),{id:"telefono",name:"telefono",modelValue:s.value.telefono,"onUpdate:modelValue":o[8]||(o[8]=e=>s.value.telefono=e),type:"text",class:f("form-control "+c.value),rules:"required"},null,8,["modelValue","class"]),l(t(v),{class:"alert-error",name:"telefono"}),a("div",Be,[(n(!0),r(u,null,m(d.value.telefono,e=>(n(),r("span",{key:e},p(e),1))),128))])]),a("div",Le,[Te,l(t(_),{id:"correo",name:"correo",modelValue:s.value.correo,"onUpdate:modelValue":o[9]||(o[9]=e=>s.value.correo=e),type:"email",class:f("form-control "+c.value),rules:"email"},null,8,["modelValue","class"]),l(t(v),{class:"alert-error",name:"correo"}),a("div",Ie,[(n(!0),r(u,null,m(d.value.correo,e=>(n(),r("span",{key:e},p(e),1))),128))])]),Ne]),_:1})]),l(oe,{onCloseModal:q,idModal:"usersModal",nameModal:"Gracias",ref_key:"modal",ref:k},{default:y(()=>[Pe,a("div",{class:"d-grid gap-2"},[a("button",{onClick:q,class:"btn btn-secondary"},"Cerrar")])]),_:1},512)],64))}});var Re=N(ze,[["__scopeId","data-v-245ea592"]]);export{Re as default};
