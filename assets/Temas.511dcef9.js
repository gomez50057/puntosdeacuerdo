import{d as I,bv as R,bz as z,bC as F,a7 as k,r as o,au as Q,o as l,b as u,f as e,e as S,u as C,a0 as q,S as E,aF as w,a as O,bD as x,N as v,bx as U}from"./index.6395c7ec.js";import{i as j,s as G,v as H}from"./temas.8a9c7ffa.js";import{_ as J}from"./Pagination.ce0f40fc.js";const K={class:"row"},W={class:"col-md-12 mt-3"},X={class:"card"},Y={class:"card-body bg-light"},Z={class:"container-fluid"},ee={class:"row"},te=e("div",{class:"col-8 col-md-11 ps-0"},[e("h1",{class:"h6 ms-0"},"Temas")],-1),se={class:"col-2 col-md-1 text-nowrap text-end"},ae=e("i",{class:"bi-plus-lg"},null,-1),oe=[ae],ne=e("i",{class:"bi-search"},null,-1),le=[ne],ce={class:"table-responsive"},ie={class:"table"},ue=e("th",{class:"text-end"},[e("i",{class:"bi-pencil-square"})],-1),re=e("th",{class:"text-end"},[e("i",{class:"bi-trash"})],-1),de={class:"form-check form-switch"},_e=["onChange","value","checked"],he={class:"text-end"},ve=["onClick"],me=e("i",{class:"bi-pencil-square"},null,-1),pe=[me],be={class:"text-end"},ye=["onClick"],fe=e("i",{class:"bi-trash"},null,-1),ge=[fe],Ee=I({setup(ke){const m=R(),b=U(),T=z(),a=F(),M=k(()=>x(()=>import("./Search.3f229d16.js"),["assets/Search.3f229d16.js","assets/index.6395c7ec.js","assets/index.9f8a97de.css"])),N=k(()=>x(()=>import("./FormTemas.1c7c261d.js"),["assets/FormTemas.1c7c261d.js","assets/FormTemas.4289310b.css","assets/index.6395c7ec.js","assets/index.9f8a97de.css","assets/vee-validate-i18n.esm.f5e07155.js","assets/Modal.8abd9eab.js","assets/Modal.b76a14bf.css","assets/temas.8a9c7ffa.js"])),i=o([]),c=o(!1),r=o("Temas"),d=o(""),p=o(Number),_=o(!1),y=o(""),L=o(["ID","Nombre","Icono","Visible"]);Q(async()=>{typeof a.query.query!="undefined"&&a.query.query!=null?(y.value=a.query.query.toString(),_.value=!0,D(a.query)):typeof a.query.page!="undefined"&&a.query.page!=null?h(a.query):(T.push({path:a.path,query:{page:1}}),h({page:1}))});const h=async(s={})=>{m.setLoading(),s.all=!0,i.value=(await j(s)).data},D=async(s={})=>{m.setLoading(),i.value=(await G(s)).data},P=()=>{_.value=!_.value},V=()=>{d.value="store",r.value="Crear temas",c.value=!0},$=s=>{d.value="update",r.value="Editar temas",p.value=s,c.value=!0},A=s=>{d.value="delete",r.value="Eliminar temas",p.value=s,c.value=!0},B=(s,n,t)=>{m.setLoading(),H({},s,!n).then(()=>{b.success("El tema se ha actualizado.")}).catch(f=>{i.value[t].validar=n,b.error("Error al tratar de actualizar.")})};return(s,n)=>(l(),u("div",K,[e("div",W,[e("div",X,[e("div",Y,[e("div",Z,[e("div",ee,[te,e("div",se,[e("button",{onClick:n[0]||(n[0]=t=>V()),class:"btn btn-success me-2"},oe),e("button",{onClick:P,class:"btn btn-info"},le)]),_.value?(l(),S(C(M),{key:0,lastQueryToSearch:y.value},null,8,["lastQueryToSearch"])):q("",!0)])])])]),e("div",ce,[e("table",ie,[e("thead",null,[e("tr",null,[(l(!0),u(E,null,w(L.value,t=>(l(),u("th",{key:t},v(t),1))),128)),ue,re])]),e("tbody",null,[(l(!0),u(E,null,w(i.value.data,(t,f)=>(l(),u("tr",{key:t},[e("td",null,v(t.id),1),e("td",null,v(t.nombre),1),e("td",null,v(t.icono),1),e("td",null,[e("div",de,[e("input",{onChange:g=>B(t.id,t.visible,f),value:t.visible,checked:t.visible,class:"form-check-input",type:"checkbox",role:"switch"},null,40,_e)])]),e("td",he,[e("button",{onClick:g=>$(t.id),class:"btn btn-info"},pe,8,ve)]),e("td",be,[e("button",{onClick:g=>A(t.id),class:"btn btn-danger"},ge,8,ye)])]))),128))])])]),O(J,{links:i.value.links,onNavToPage:h},null,8,["links"]),c.value?(l(),S(C(N),{key:0,showModal:c.value,"onUpdate:showModal":n[1]||(n[1]=t=>c.value=t),onNavToPage:h,nameModal:r.value,typeSubmit:d.value,idElement:p.value},null,8,["showModal","nameModal","typeSubmit","idElement"])):q("",!0)])]))}});export{Ee as default};
