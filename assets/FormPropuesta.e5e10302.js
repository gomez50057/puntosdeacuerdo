import{by as G,d as H,bv as J,bC as K,r as f,au as O,o,e as P,w as V,u as d,b as t,a0 as k,f as a,a as n,K as h,aF as c,N as m,S as p,b3 as Q,bm as W,m as q,aC as X,aA as Y,bx as Z}from"./index.6395c7ec.js";import{d as A,r as ee,e as ae,c as oe,l as se,a as le,F as _,E as v}from"./vee-validate-i18n.esm.f5e07155.js";import te from"./Modal.8abd9eab.js";import{i as de}from"./temas.8a9c7ffa.js";import{i as ne,k as D}from"./multiselect.4188268a.js";import{c as ie,s as re}from"./propuestas.546bcd69.js";const i=u=>(X("data-v-55c56537"),u=u(),Y(),u),ue={key:0,class:"col-md-12"},ce=i(()=>a("p",{class:"text-primary"},[a("b",null,"Acuerdo 1: Gobierno Cercano, Justo y Honesto")],-1)),me=i(()=>a("p",null," En este acuerdo encontrar\xE1s temas como transparencia, anticorrupci\xF3n, justicia, finanzas p\xFAblicas y recuperar la paz ",-1)),pe=[ce,me],_e={key:1,class:"col-md-12"},ve=i(()=>a("p",{class:"text-primary"},[a("b",null,"Acuerdo 2: Bienestar del Pueblo")],-1)),be=i(()=>a("p",null," Aqu\xED se desarrollan los temas de salud, adultos mayores, j\xF3venes, personas con discapacidad, migrantes, deporte, mujeres y pueblos ind\xEDgenas. ",-1)),fe=[ve,be],he={key:2,class:"col-md-12"},ye=i(()=>a("p",{class:"text-primary"},[a("b",null,"Acuerdo 4: Desarrollo Sostenible e Infraestructura Transformadora")],-1)),ge=i(()=>a("p",null," Agua, servicios, caminos, planeaci\xF3n territorial, movilidad y medio ambiente; son algunos de los temas que se desarrollan aqu\xED. ",-1)),xe=[ye,ge],Ve={key:3,class:"col-md-12"},ke=i(()=>a("p",{class:"text-primary"},[a("b",null,"Acuerdo 3: Desarrollo Econ\xF3mico")],-1)),we=i(()=>a("p",null," Se desglosan temas de trabajo, previsi\xF3n social, sector agropecuario, turismo, educaci\xF3n, entre muchos otros. ",-1)),Me=[ke,we],qe={class:"mb-3"},Se=i(()=>a("label",{for:"nombre",class:"form-label"},"*Nombre de la propuesta",-1)),Ee={class:"invalid-feedback"},Fe={class:"mb-3"},Te=i(()=>a("label",{for:"propuesta",class:"form-label"},"*Cuentanos tu propuesta",-1)),Ce={class:"invalid-feedback"},Ue={class:"col-md-4"},Pe={class:"mb-3"},Ae=i(()=>a("label",{for:"nombres",class:"form-label"},"*Nombre(s)",-1)),De={class:"invalid-feedback"},Le={class:"col-md-4"},Be={class:"mb-3"},Ne=i(()=>a("label",{for:"primer_apellido",class:"form-label"},"*Primer apellido",-1)),Ie={class:"invalid-feedback"},je={class:"col-md-4"},ze={class:"mb-3"},Re=i(()=>a("label",{for:"segundo_apellido",class:"form-label"},"Segundo apellido",-1)),$e={class:"invalid-feedback"},Ge={class:"col-md-4"},He={class:"mb-3"},Je=i(()=>a("label",{for:"fecha_nacimiento",class:"form-label"},"*Fecha de nacimiento",-1)),Ke={class:"invalid-feedback"},Oe={class:"col-md-4"},Qe={class:"mb-3"},We=i(()=>a("label",{for:"telefono",class:"form-label"},"*Tel\xE9fono",-1)),Xe={class:"invalid-feedback"},Ye={class:"col-md-4"},Ze={class:"mb-3"},ea=i(()=>a("label",{for:"municipio",class:"form-label"},"*Municipio",-1)),aa={class:"invalid-feedback"},oa={class:"col-md-4"},sa={class:"mb-3"},la=i(()=>a("label",{for:"comunidad",class:"form-label"},"Comunidad",-1)),ta={class:"invalid-feedback"},da={class:"col-md-4"},na={class:"mb-3"},ia=i(()=>a("label",{for:"localidad",class:"form-label"},"Localidad",-1)),ra={class:"invalid-feedback"},ua={class:"col-md-4"},ca={class:"mb-3"},ma=i(()=>a("label",{for:"tema",class:"form-label"},"*Tema",-1)),pa={class:"invalid-feedback"},_a=i(()=>a("p",{class:"m-0"},[a("small",{class:"m-0"},"Los campos con (*) son requeridos")],-1)),va={class:"mb-3 mt-3 d-grid gap-2 col-12 mx-auto"},ba=["value"],fa=H({props:["showModal","nameModal","typeSubmit","idElement","idTema","regiones"],emits:["update:showModal","navToPage"],setup(u,{emit:S}){const y=u;A("required",ee),A("email",ae),oe({generateMessage:se("es",{messages:{required:"El campo es requerido",email:"El campo debe ser un correo valido"}})});const w=J(),L=Z(),B=K(),M=f(null),l=f({}),E=f([]),F=f([]),T=f([]),b=f(""),r=f({}),C=f(!1);O(async()=>{(y.typeSubmit=="update"||y.typeSubmit=="delete")&&await z(),await N(),await I(),M.value.showModal(),l.value.tema_id=y.idTema,C.value=!0});const N=async()=>{w.setLoading(),F.value=(await ne({})).data},I=async()=>{w.setLoading(),T.value=(await de({})).data},j=()=>{r.value.length!=0&&(b.value="is-invalid")},U=()=>{M.value.hideModal(),S("update:showModal",!1)},z=async()=>{w.setLoading();let g=await ie(y.idElement);l.value=g.data},R=async()=>{w.setLoading();var g=new FormData;for(var s in l.value)g.append(s,l.value[s]);for(let e=0;e<E.value.length;e++)g.append("documentos[]",E.value[e]);await re(g).then(()=>{S("navToPage",B.query),U(),L.success("Se ha creado la propuesta exitosamente.")}).catch(e=>{e.response.status==422&&(r.value=e.response.data.errors,j())})},$=()=>{R()};return(g,s)=>(o(),P(te,{onCloseModal:U,idModal:"usersModal",nameModal:u.nameModal,ref_key:"modal",ref:M},{default:V(()=>[C.value&&(y.typeSubmit==="update"||y.typeSubmit==="store")?(o(),P(d(le),{key:0,class:"row",method:"POST",onSubmit:s[11]||(s[11]=e=>$())},{default:V(()=>[u.idTema==1?(o(),t("div",ue,pe)):k("",!0),u.idTema==2?(o(),t("div",_e,fe)):k("",!0),u.idTema==3?(o(),t("div",he,xe)):k("",!0),u.idTema==4?(o(),t("div",Ve,Me)):k("",!0),a("div",qe,[Se,n(d(_),{id:"nombre",name:"nombre",modelValue:l.value.nombre,"onUpdate:modelValue":s[0]||(s[0]=e=>l.value.nombre=e),type:"text",class:h("form-control "+b.value),rules:"required"},null,8,["modelValue","class"]),n(d(v),{class:"alert-error",name:"nombre"}),a("div",Ee,[(o(!0),t(p,null,c(r.value.nombre,e=>(o(),t("span",{key:e},m(e),1))),128))])]),a("div",Fe,[Te,n(d(_),{id:"propuesta",name:"propuesta",type:"text",rules:"required"},{default:V(({field:e})=>[Q(a("textarea",q(e,{"onUpdate:modelValue":s[1]||(s[1]=x=>l.value.propuesta=x),class:["form-control "+b.value,"form-control"],rows:"5"}),null,16),[[W,l.value.propuesta]])]),_:1}),n(d(v),{class:"alert-error",name:"propuesta"}),a("div",Ce,[(o(!0),t(p,null,c(r.value.propuesta,e=>(o(),t("span",{key:e},m(e),1))),128))])]),a("div",Ue,[a("div",Pe,[Ae,n(d(_),{id:"nombres",name:"nombres",modelValue:l.value.nombres,"onUpdate:modelValue":s[2]||(s[2]=e=>l.value.nombres=e),type:"text",class:h("form-control "+b.value),rules:"required"},null,8,["modelValue","class"]),n(d(v),{class:"alert-error",name:"nombres"}),a("div",De,[(o(!0),t(p,null,c(r.value.nombres,e=>(o(),t("span",{key:e},m(e),1))),128))])])]),a("div",Le,[a("div",Be,[Ne,n(d(_),{id:"primer_apellido",name:"primer_apellido",modelValue:l.value.primer_apellido,"onUpdate:modelValue":s[3]||(s[3]=e=>l.value.primer_apellido=e),type:"text",class:h("form-control "+b.value),rules:"required"},null,8,["modelValue","class"]),n(d(v),{class:"alert-error",name:"primer_apellido"}),a("div",Ie,[(o(!0),t(p,null,c(r.value.primer_apellido,e=>(o(),t("span",{key:e},m(e),1))),128))])])]),a("div",je,[a("div",ze,[Re,n(d(_),{id:"segundo_apellido",name:"segundo_apellido",modelValue:l.value.segundo_apellido,"onUpdate:modelValue":s[4]||(s[4]=e=>l.value.segundo_apellido=e),type:"text",class:h("form-control "+b.value)},null,8,["modelValue","class"]),n(d(v),{class:"alert-error",name:"segundo_apellido"}),a("div",$e,[(o(!0),t(p,null,c(r.value.segundo_apellido,e=>(o(),t("span",{key:e},m(e),1))),128))])])]),a("div",Ge,[a("div",He,[Je,n(d(_),{id:"fecha_nacimiento",name:"fecha_nacimiento",modelValue:l.value.fecha_nacimiento,"onUpdate:modelValue":s[5]||(s[5]=e=>l.value.fecha_nacimiento=e),type:"date",class:h("form-control "+b.value),rules:"required"},null,8,["modelValue","class"]),n(d(v),{class:"alert-error",name:"fecha_nacimiento"}),a("div",Ke,[(o(!0),t(p,null,c(r.value.fecha_nacimiento,e=>(o(),t("span",{key:e},m(e),1))),128))])])]),a("div",Oe,[a("div",Qe,[We,n(d(_),{id:"telefono",name:"telefono",modelValue:l.value.telefono,"onUpdate:modelValue":s[6]||(s[6]=e=>l.value.telefono=e),type:"text",class:h("form-control "+b.value),rules:"required"},null,8,["modelValue","class"]),n(d(v),{class:"alert-error",name:"telefono"}),a("div",Xe,[(o(!0),t(p,null,c(r.value.telefono,e=>(o(),t("span",{key:e},m(e),1))),128))])])]),a("div",Ye,[a("div",Ze,[ea,n(d(_),{name:"municipio",type:"select",value:!0,rules:"required"},{default:V(({field:e})=>[n(d(D),q(e,{modelValue:l.value.municipio_id,"onUpdate:modelValue":s[7]||(s[7]=x=>l.value.municipio_id=x),options:F.value,searchable:!0,valueProp:"id",label:"nombre",trackBy:"nombre"}),null,16,["modelValue","options"])]),_:1}),n(d(v),{name:"municipio"}),a("div",aa,[(o(!0),t(p,null,c(r.value.municipio,e=>(o(),t("span",{key:e},m(e),1))),128))])])]),a("div",oa,[a("div",sa,[la,n(d(_),{id:"comunidad",name:"comunidad",modelValue:l.value.comunidad,"onUpdate:modelValue":s[8]||(s[8]=e=>l.value.comunidad=e),type:"text",class:h("form-control "+b.value)},null,8,["modelValue","class"]),n(d(v),{class:"alert-error",name:"comunidad"}),a("div",ta,[(o(!0),t(p,null,c(r.value.comunidad,e=>(o(),t("span",{key:e},m(e),1))),128))])])]),a("div",da,[a("div",na,[ia,n(d(_),{id:"localidad",name:"localidad",modelValue:l.value.localidad,"onUpdate:modelValue":s[9]||(s[9]=e=>l.value.localidad=e),type:"text",class:h("form-control "+b.value)},null,8,["modelValue","class"]),n(d(v),{class:"alert-error",name:"localidad"}),a("div",ra,[(o(!0),t(p,null,c(r.value.localidad,e=>(o(),t("span",{key:e},m(e),1))),128))])])]),a("div",ua,[a("div",ca,[ma,n(d(_),{name:"tema",type:"select",value:!0,rules:"required"},{default:V(({field:e})=>[n(d(D),q(e,{modelValue:l.value.tema_id,"onUpdate:modelValue":s[10]||(s[10]=x=>l.value.tema_id=x),options:T.value,searchable:!0,valueProp:"id",label:"nombre",trackBy:"nombre"}),null,16,["modelValue","options"])]),_:1}),n(d(v),{name:"tema"}),a("div",pa,[(o(!0),t(p,null,c(r.value.tema,e=>(o(),t("span",{key:e},m(e),1))),128))])])]),_a,a("div",va,[a("input",{type:"submit",class:"btn btn-primary btn-lg",value:u.nameModal},null,8,ba)])]),_:1})):k("",!0)]),_:1},8,["nameModal"]))}});var wa=G(fa,[["__scopeId","data-v-55c56537"]]);export{wa as default};
