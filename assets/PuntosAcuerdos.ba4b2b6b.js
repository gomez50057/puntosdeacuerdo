import{d as A,bv as R,bz as V,bC as B,a7 as b,r as a,au as $,o as n,b as c,f as e,e as g,u as f,a0 as k,S,aF as x,a as I,bD as q,N as l}from"./index.6395c7ec.js";import{i as Q,s as O}from"./puntos_acuerdos.73911dee.js";import{_ as U}from"./Pagination.ce0f40fc.js";const z={class:"row"},j={class:"col-md-12 mt-3"},G={class:"card"},H={class:"card-body bg-light"},J={class:"container-fluid"},K={class:"row"},W=e("div",{class:"col-8 col-md-11 ps-0"},[e("h1",{class:"h6 ms-0"},"Puntos de acuerdo")],-1),X={class:"col-2 col-md-1 text-nowrap text-end"},Y=e("i",{class:"bi-plus-lg"},null,-1),Z=[Y],ee=e("i",{class:"bi-search"},null,-1),te=[ee],se={class:"table-responsive"},oe={class:"table"},ae=e("th",{class:"text-end"},[e("i",{class:"bi-pencil-square"})],-1),ne=e("th",{class:"text-end"},[e("i",{class:"bi-trash"})],-1),le={class:"text-end"},ie=["onClick"],ce=e("i",{class:"bi-pencil-square"},null,-1),ue=[ce],de={class:"text-end"},re=["onClick"],_e=e("i",{class:"bi-trash"},null,-1),ve=[_e],ge=A({setup(he){const m=R(),C=V(),o=B(),E=b(()=>q(()=>import("./Search.3f229d16.js"),["assets/Search.3f229d16.js","assets/index.6395c7ec.js","assets/index.9f8a97de.css"])),T=b(()=>q(()=>import("./FormPuntosAcuerdos.02c73a7f.js"),["assets/FormPuntosAcuerdos.02c73a7f.js","assets/FormPuntosAcuerdos.888efba4.css","assets/vee-validate-i18n.esm.f5e07155.js","assets/index.6395c7ec.js","assets/index.9f8a97de.css","assets/Modal.8abd9eab.js","assets/Modal.b76a14bf.css","assets/puntos_acuerdos.73911dee.js","assets/multiselect.4188268a.js","assets/regiones.c4ef40af.js"])),u=a([]),i=a(!1),d=a("Temas"),r=a(""),p=a(Number),_=a(!1),y=a(""),w=a(["ID","Titulo","Descripci\xF3n","Ubicaci\xF3n","Municipio","Regi\xF3n"]);$(async()=>{typeof o.query.query!="undefined"&&o.query.query!=null?(y.value=o.query.query.toString(),_.value=!0,M(o.query)):typeof o.query.page!="undefined"&&o.query.page!=null?v(o.query):(C.push({path:o.path,query:{page:1}}),v({page:1}))});const v=async(s={})=>{m.setLoading(),s.all=!0,u.value=(await Q(s)).data},M=async(s={})=>{m.setLoading(),u.value=(await O(s)).data},P=()=>{_.value=!_.value},D=()=>{r.value="store",d.value="Crear punto",i.value=!0},N=s=>{r.value="update",d.value="Editar punto",p.value=s,i.value=!0},F=s=>{r.value="delete",d.value="Eliminar punto",p.value=s,i.value=!0};return(s,h)=>(n(),c("div",z,[e("div",j,[e("div",G,[e("div",H,[e("div",J,[e("div",K,[W,e("div",X,[e("button",{onClick:h[0]||(h[0]=t=>D()),class:"btn btn-success me-2"},Z),e("button",{onClick:P,class:"btn btn-info"},te)]),_.value?(n(),g(f(E),{key:0,lastQueryToSearch:y.value},null,8,["lastQueryToSearch"])):k("",!0)])])])]),e("div",se,[e("table",oe,[e("thead",null,[e("tr",null,[(n(!0),c(S,null,x(w.value,t=>(n(),c("th",{key:t},l(t),1))),128)),ae,ne])]),e("tbody",null,[(n(!0),c(S,null,x(u.value.data,(t,pe)=>(n(),c("tr",{key:t},[e("td",null,l(t.id),1),e("td",null,l(t.titulo),1),e("td",null,l(t.descripcion),1),e("td",null,l(t.ubicacion.coordinates),1),e("td",null,l(t.municipio?t.municipio.nombre:""),1),e("td",null,l(t.municipio.region?t.municipio.region.nombre:""),1),e("td",le,[e("button",{onClick:L=>N(t.id),class:"btn btn-info"},ue,8,ie)]),e("td",de,[e("button",{onClick:L=>F(t.id),class:"btn btn-danger"},ve,8,re)])]))),128))])])]),I(U,{links:u.value.links,onNavToPage:v},null,8,["links"]),i.value?(n(),g(f(T),{key:0,showModal:i.value,"onUpdate:showModal":h[1]||(h[1]=t=>i.value=t),onNavToPage:v,nameModal:d.value,typeSubmit:r.value,idElement:p.value},null,8,["showModal","nameModal","typeSubmit","idElement"])):k("",!0)])]))}});export{ge as default};
